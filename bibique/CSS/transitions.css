/* Site-wide page transitions and smooth scrolling */

html {
  scroll-behavior: smooth; /* in-page anchor smooth scrolling */
}

/* Page enter/exit animation */
body{
  opacity: 0;
  transform: translateY(4px);
  transition: opacity 180ms cubic-bezier(.2,.9,.2,1), transform 180ms cubic-bezier(.2,.9,.2,1);
  will-change: opacity, transform;
  -webkit-font-smoothing:antialiased;
}

/* when JS marks page ready */
body.page-ready{
  opacity: 1;
  transform: none;
}

/* when navigating away */
body.page-exit{
  opacity: 0;
  transform: translateY(6px);
}

/* subtle hover animation for nav links */
.navbar .nav-link{
  transition: color .18s ease, transform .18s ease;
}
.navbar .nav-link:hover{ transform: translateY(-2px); }

/* make images and promo tiles also animate when entering viewport */
.promo-img.visible{ transform: translateY(0); opacity: 1; transition: opacity .36s ease, transform .36s ease; }
.promo-img{ opacity: 0; transform: translateY(12px); }

/* accessibility: reduce motion respect */
@media (prefers-reduced-motion: reduce){
  body, .promo-img { transition: none !important; animation: none !important; }
}

/* Top progress bar & spinner used during page navigation */
#page-loader{position:fixed;left:0;right:0;top:0;height:3px;z-index:20000;pointer-events:none;display:none}
#page-loader .bar{height:3px;background:linear-gradient(90deg,#D6001C,#FF6B4A);width:0%;transition:width 220ms linear}
#page-loader .spinner{position:fixed;right:14px;top:8px;width:28px;height:28px;border-radius:50%;border:3px solid rgba(0,0,0,0.12);border-top-color:#D6001C;box-shadow:0 6px 18px rgba(214,0,28,0.18);animation:pt-spin .8s linear infinite;display:none;z-index:20001}
@keyframes pt-spin{to{transform:rotate(360deg)}}

@media (prefers-reduced-motion: reduce){
  #page-loader .spinner{animation:none}
}

/* Ensure loader is visible when page is exiting (CSS fallback) */
body.page-exit #page-loader{display:block}
body.page-exit #page-loader .bar{width:80%;transition:width 220ms linear}
body.page-exit .spinner{display:block}

/* make the bar a bit more visible */
#page-loader .bar{box-shadow:0 4px 8px rgba(214,0,28,0.12);height:4px}

/* Centered overlay loader for clearly indicating activity */
#page-loader-overlay{position:fixed;left:0;top:0;right:0;bottom:0;display:none;align-items:center;justify-content:center;z-index:20010}
#page-loader-overlay .overlay-backdrop{position:absolute;left:0;top:0;right:0;bottom:0;background:rgba(255,255,255,0.65);-webkit-backdrop-filter: blur(2px);backdrop-filter: blur(2px);}
#page-loader-overlay .overlay-spinner{position:relative;width:64px;height:64px;border-radius:50%;border:6px solid rgba(0,0,0,0.06);border-top-color:#D6001C;box-shadow:0 10px 30px rgba(0,0,0,0.08);animation:pt-spin .8s linear infinite}
#page-loader-overlay .overlay-text{position:relative;margin-top:10px;color:#222;font-weight:700;text-align:center;font-family:inherit}
#page-loader-overlay .overlay-inner{display:flex;flex-direction:column;align-items:center;gap:8px}

@media (prefers-reduced-motion: reduce){
  #page-loader-overlay .overlay-spinner{animation:none}
}
